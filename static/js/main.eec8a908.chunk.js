(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){t.exports={wrapper:"ContactForm_wrapper__ON-7g",field:"ContactForm_field__YNjUp",name:"ContactForm_name__2gEXS",number:"ContactForm_number__2yJmt",input:"ContactForm_input__1D506",button:"ContactForm_button__3uuqO"}},102:function(t,e,n){},106:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),u=n(50),i=n(9),s=n(12),l=n(13),p=n(15),m=n(14),b=n(16),f=n(107),d=n(18),_=n.n(d),h=n(28),C=n(3),E={fetchContactsRequest:Object(C.b)("contacts/fetchContactsRequest"),fetchContactsSuccess:Object(C.b)("contacts/fetchContactsSuccess"),fetchContactsError:Object(C.b)("contacts/fetchContactsError"),addContactRequest:Object(C.b)("contacts/addContactRequest"),addContactSuccess:Object(C.b)("contacts/addContactSuccess"),addContactError:Object(C.b)("contacts/addContactError"),deleteContactRequest:Object(C.b)("contacts/deleteContactRequest"),deleteContactSuccess:Object(C.b)("contacts/deleteContactSuccess"),deleteContactError:Object(C.b)("contacts/deleteContactError"),changeFilter:Object(C.b)("contacts/changeFilter"),clearError:Object(C.b)("contacts/clearError")},v=n(25),O=n.n(v);O.a.defaults.baseURL="http://localhost:4040";var j={fetchContacts:function(){return O.a.get("/contacts")},addContact:function(t){return O.a.post("/contacts",t)},deleteContact:function(t){return O.a.delete("/contacts/".concat(t))}},g=function(){return function(){var t=Object(h.a)(_.a.mark(function t(e){var n,a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(E.fetchContactsRequest()),t.prev=1,t.next=4,j.fetchContacts();case 4:n=t.sent,a=n.data,e(E.fetchContactsSuccess(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(E.fetchContactsError(t.t0));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},x=function(t,e){return function(){var n=Object(h.a)(_.a.mark(function n(a){var r,c,o;return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},a(E.addContactRequest()),n.prev=2,n.next=5,j.addContact(r);case 5:c=n.sent,o=c.data,a(E.addContactSuccess(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a(E.addContactError(n.t0));case 13:case"end":return n.stop()}},n,null,[[2,10]])}));return function(t){return n.apply(this,arguments)}}()},y=function(t){return function(){var e=Object(h.a)(_.a.mark(function e(n){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(E.deleteContactRequest()),e.prev=1,e.next=4,j.deleteContact(t);case 4:n(E.deleteContactSuccess(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(E.deleteContactError(e.t0));case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},A=n(26),N=function(t){return t.contacts.items},w=function(t){return t.contacts.filter},F={getLoading:function(t){return t.contacts.loading},getAllContacts:N,getFilter:w,getError:function(t){return t.contacts.error},getFilteredContacts:Object(A.a)([N,w],function(t,e){return t.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())})})},S=n(5),k=n(46),q=n.n(k),R=n(20),D=n.n(R),I=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.error&&setTimeout(function(){t.props.clearError()},3e3)}},{key:"render",value:function(){return r.a.createElement(f.a,{in:!!this.props.message,timeout:250,classNames:D.a,unmountOnExit:!0},r.a.createElement("div",{className:q.a.popup},r.a.createElement("p",null,this.props.message)))}}]),e}(a.Component),L=Object(i.b)(function(t){return{error:F.getError(t)}},function(t){return{clearError:function(){return t(E.clearError())}}})(I),M=n(10),P=n.n(M),J=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={name:"",number:"",error:!1,errorMessage:null},n.handleChangeInput=function(t){var e=t.target,a=e.name,r=e.value;n.setState(Object(S.a)({},a,r))},n.handleSubmit=function(t){t.preventDefault();var e=n.state,a=e.name,r=e.number;if(n.props.contacts.some(function(t){return t.name===a}))return n.setState({errorMessage:"\u042d\u0442\u043e\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),setTimeout(function(){n.setState({errorMessage:null})},3e3),void n.reset();n.props.onAddContact(a,r),n.reset()},n}return Object(b.a)(e,t),Object(l.a)(e,[{key:"reset",value:function(){this.setState({name:"",number:""})}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.errorMessage;return r.a.createElement("div",null,r.a.createElement(L,{message:a}),r.a.createElement("form",{className:P.a.wrapper,onSubmit:this.handleSubmit},r.a.createElement("label",{className:P.a.field},r.a.createElement("span",{className:P.a.name},"Name"),r.a.createElement("input",{className:P.a.input,type:"text",name:"name",value:e,placeholder:"Enter name",onChange:this.handleChangeInput,required:!0})),r.a.createElement("label",{className:P.a.field},r.a.createElement("span",{className:P.a.number},"Number"),r.a.createElement("input",{className:P.a.input,type:"tel",name:"number",value:n,placeholder:"Enter number",onChange:this.handleChangeInput,required:!0})),r.a.createElement("button",{className:P.a.button,type:"submit"},"Add contact")))}}]),e}(a.Component),W=Object(i.b)(function(t){return{contacts:F.getAllContacts(t)}},function(t){return{onAddContact:function(e,n){return t(x(e,n))}}})(J),H=n(17),T=n.n(H);var Z=Object(i.b)(function(t){return{value:F.getFilter(t)}},function(t){return{onChangeFilter:function(e){return t(E.changeFilter(e.currentTarget.value))}}})(function(t){var e=t.value,n=t.onChangeFilter;return r.a.createElement("div",{className:T.a.wrapper},r.a.createElement("label",{className:T.a.field},r.a.createElement("span",{className:T.a.label},"Find contacts by name"),r.a.createElement("input",{className:T.a.input,type:"text",name:"filter",value:e,placeholder:"Enter to find",onChange:n})))}),z=n(108),Y=n(24),B=n.n(Y);var Q=function(t){var e=t.name,n=t.number,a=t.onDelete;return r.a.createElement("li",{className:B.a.contactItem},r.a.createElement("span",null,e,": ",n),r.a.createElement("button",{className:B.a.button,type:"button",onClick:a},"Delete"))};var U,V,X,G=Object(i.b)(function(t){return{contacts:F.getFilteredContacts(t)}},function(t){return{onDeleteContact:function(e){return t(y(e))}}})(function(t){var e=t.contacts,n=t.onDeleteContact;return r.a.createElement(z.a,{component:"ul",className:B.a.wrapper},e.map(function(t){var e=t.id,a=t.name,c=t.number;return r.a.createElement(f.a,{timeout:250,classNames:D.a,key:e},r.a.createElement(Q,{appear:!0,name:a,number:c,unmountOnExit:!0,onDelete:function(){return n(e)}}))}))}),K=n(47),$=n.n(K),tt=(n(101),n(48)),et=n.n(tt),nt=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={},n}return Object(b.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:et.a.loader},r.a.createElement($.a,{type:"Circles",color:"#099110",height:80,width:80}))}}]),e}(a.Component),at=n(22),rt=n.n(at),ct=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.error,a=t.clearFilter,c=t.isLoading;return r.a.createElement("div",{className:rt.a.container},n&&r.a.createElement(L,{message:n.message}),r.a.createElement(f.a,{in:!0,appear:!0,timeout:500,classNames:rt.a,unmountOnExit:!0},r.a.createElement("h1",{className:rt.a.title},"Phonebook")),r.a.createElement(W,null),r.a.createElement(f.a,{in:e.length>1,classNames:T.a,timeout:250,unmountOnExit:!0,onExiting:function(){return a()}},r.a.createElement(Z,null)),r.a.createElement(f.a,{in:e.length>0,appear:!0,timeout:250,classNames:D.a,unmountOnExit:!0},r.a.createElement("div",{className:rt.a.contactsWrapper},r.a.createElement("h2",{className:rt.a.title},"Contacts"),c&&r.a.createElement(nt,null),r.a.createElement(G,null))))}}]),e}(a.Component),ot=Object(i.b)(function(t){return{contacts:F.getAllContacts(t),isLoading:F.getLoading(t),error:F.getError(t)}},function(t){return{fetchContacts:function(){return t(g())},clearFilter:function(){return t(E.changeFilter(""))}}})(ct),ut=n(27),it=n(49),st=n.n(it),lt=n(19),pt=n(7),mt=E.fetchContactsRequest,bt=E.fetchContactsSuccess,ft=E.fetchContactsError,dt=E.addContactRequest,_t=E.addContactSuccess,ht=E.addContactError,Ct=E.deleteContactRequest,Et=E.deleteContactSuccess,vt=E.deleteContactError,Ot=E.changeFilter,jt=E.clearError,gt=[],xt="",yt=!1,At=null,Nt=Object(C.c)(gt,(U={},Object(S.a)(U,bt,function(t,e){return e.payload}),Object(S.a)(U,_t,function(t,e){var n=e.payload;return[].concat(Object(ut.a)(t),[n])}),Object(S.a)(U,Et,function(t,e){var n=e.payload;return t.filter(function(t){return t.id!==n})}),U)),wt=Object(C.c)(xt,Object(S.a)({},Ot,function(t,e){return e.payload})),Ft=function(t,e){return e.payload},St=Object(C.c)(yt,(V={},Object(S.a)(V,mt,function(){return!0}),Object(S.a)(V,bt,function(){return!1}),Object(S.a)(V,ft,function(){return!1}),Object(S.a)(V,dt,function(){return!0}),Object(S.a)(V,_t,function(){return!1}),Object(S.a)(V,ht,function(){return!1}),Object(S.a)(V,Ct,function(){return!0}),Object(S.a)(V,Et,function(){return!1}),Object(S.a)(V,vt,function(){return!1}),V)),kt=Object(C.c)(At,(X={},Object(S.a)(X,ft,Ft),Object(S.a)(X,ht,Ft),Object(S.a)(X,vt,Ft),Object(S.a)(X,jt,function(){return null}),X)),qt=Object(pt.c)({items:Nt,filter:wt,loading:St,error:kt}),Rt=[].concat(Object(ut.a)(Object(C.d)({serializableCheck:{ignoredActions:[lt.a,lt.f,lt.b,lt.c,lt.d,lt.e]}})),[st.a]),Dt=Object(C.a)({reducer:{contacts:qt},middleware:Rt,devTools:!1});n(102);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:Dt},r.a.createElement(u.a,null,r.a.createElement(ot,null)))),document.getElementById("root"))},17:function(t,e,n){t.exports={wrapper:"Filter_wrapper__LHZ-5",field:"Filter_field__9WYoQ",label:"Filter_label__15A5_",input:"Filter_input__1TD_A",enter:"Filter_enter__3LOh_",enterActive:"Filter_enterActive__5zSv6",exit:"Filter_exit__WbL7a",exitActive:"Filter_exitActive__2uIJn"}},20:function(t,e,n){t.exports={appear:"animation_appear__3CV2E",appearActive:"animation_appearActive__3MZwy",enter:"animation_enter__bFNzy",enterActive:"animation_enterActive__VMHbj",exit:"animation_exit__2Pal4",exitActive:"animation_exitActive__a2kSy"}},22:function(t,e,n){t.exports={container:"App_container__11owx",contactsWrapper:"App_contactsWrapper__3-Bbx",title:"App_title__8m3J9",appear:"App_appear__35Dnl",appearActive:"App_appearActive__2pIWA"}},24:function(t,e,n){t.exports={wrapper:"Contact_wrapper__1ZnbZ",contactItem:"Contact_contactItem__2JNXJ",button:"Contact_button__1YCfb"}},46:function(t,e,n){t.exports={popup:"ErrorPopup_popup__1mPHj",enter:"ErrorPopup_enter__1xE_c",enterActive:"ErrorPopup_enterActive__1jHrt",exit:"ErrorPopup_exit__wcuvI",exitActive:"ErrorPopup_exitActive__1HI5e"}},48:function(t,e,n){t.exports={loader:"Loader_loader__2Q6An"}},52:function(t,e,n){t.exports=n(106)}},[[52,1,2]]]);
//# sourceMappingURL=main.eec8a908.chunk.js.map